{% extends "base.html.twig" %}

{% block title %}Список валют{% endblock %}

{% block content %}
  <div id="map-data" data-map-data="{{ mapData|json_encode }}"></div>
  <div id="currency-map" class="mb-5"></div>
  <div class="container-fluid mb-5">
    <table id="currency-table" class="table table-striped table-sm">
      <thead>
        <tr class="d-flex">
          <th class="col-5" scope="col">Название валюты</th>
          <th class="col-4" scope="col">Код валюты</th>
          <th class="col-3" scope="col">Текущий курс валюты к рублю</th>
        </tr>
      </thead>
      <tbody>
        {% for item in tableData %}
          <tr class="d-flex">
            <td class="col-5"><a href="{{ path('currencies_show', {id: item.currencyId}) }}" class="link-dark">{{ item.currencyName }}</a></td>
            <td class="col-4">{{ item.currencyIso }}</td>
            <td class="col-3">{{ item.currencyRate|number_format(2) }}</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
{% endblock %}

{% block scripts %}
  <script src="https://cdn.amcharts.com/lib/4/core.js"></script>
  <script src="https://cdn.amcharts.com/lib/4/maps.js"></script>
  <script src="https://cdn.amcharts.com/lib/4/geodata/worldLow.js"></script>
  <script src="https://cdn.amcharts.com/lib/4/themes/animated.js"></script>
  <script src="https://www.amcharts.com/lib/4/geodata/lang/RU.js"></script>
  <script src="assets/js/currencyMap/map.js"></script>
  <script src="assets/js/currencyMap/init.js"></script>
{% endblock %}